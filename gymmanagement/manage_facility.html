<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width-device-width, initial-scale=1, shrink-to-fit=no">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="css/style5.css">

	
</head>
<body class="anji" onload="viewData()">

	<div class="container" style="margin-top:35px">
	<h4>MANAGE FACILITIES </h4>
		<table id="user" class="table table-striped table-bordered">
			<thead>
				<tr>
					<td> 	ID </td>
					<td> NAME </td>
					
					
					<td>  AMOUNT </td>
				
				
				
				
				
				</tr>
			</thead>
			<tbody>
			
			
			
			</tbody>
		</table>
		<a class="btn btn-primary" href="menu.php" role="button" style="background-color:blue">HOME</a>
		<a class="btn btn-success" href="facility.php" role="button" style="float:right;">ADD FACILITIES</a>
			
	
	
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/jquery.tabledit.js"></script>
<script>
	function viewData()
	{
		$.ajax({
			url:'process3.php?p=view',
			method:'GET'}).done(function(data){
												$('tbody').html(data)
													tableData()
													});
	
	}
	
	
	function tableData()
	{
		$('#user').Tabledit({
		url: 'process3.php',
		eventType: 'dblclick',
		editButton: true,
		deleteButton:true,
		buttons: {
    edit: {
        class: 'btn btn-sm btn-warning',
        html: '<span class="glyphicon glyphicon-pencil"></span>Edit',
        action: 'edit'
    },
    delete: {
        class: 'btn btn-sm btn-danger',
        html: '<span class="glyphicon glyphicon-trash"></span>Trash',
        action: 'delete'
    },
    save: {
        class: 'btn btn-sm btn-success',
        html: 'Save'
    },
    restore: {
        class: 'btn btn-sm btn-warning',
        html: 'Restore',
        action: 'restore'
    },
    confirm: {
        class: 'btn btn-sm btn-default',
        html: 'Confirm'
    }
},
		columns: {
        identifier: [0, 'facilityid'],
        editable: [[1, 'name'], [2, 'amount']]
		},
    
    onSuccess: function(data, textStatus, jqXHR) {
       viewData()
    },
    onFail: function(jqXHR, textStatus, errorThrown) {
        console.log('onFail(jqXHR, textStatus, errorThrown)');
        console.log(jqXHR);
        console.log(textStatus);
        console.log(errorThrown);
    },

    onAjax: function(action, serialize) {
        console.log('onAjax(action, serialize)');
        console.log(action);
        console.log(serialize);
    }
		});
	
	
	}
</script>
	
	
</body>
</html>


